<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- importing different dependencies -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/common_chat.css">
    <link rel="stylesheet" href="css/chatroom.css">
    <link rel="stylesheet" href="css/template.css" />
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script>
      const ROOM_ID = "<%= room %>";
    </script>
  <!-- adding icon on the website header -->
  <link rel = "icon" href = "img/icon.png" type = "image/x-icon">
  <title>Chat</title>
</head>
<body style="margin: 0;">
  <!-- adding background image -->
  <style>
    body {
      background-image: url('img/back.jpg');
    }
    </style>
    <!-- adding navigation bar -->
  <header>
    <div class="navbar" >
      <nav>
        <ul class="navigation">
          <li><a href="/">Home</a></li>
          <li><a href="/meet">Meet</a></li>
          <li><a href="/chat">Chat</a></li>
          <li><a href="/feedback">Feedback</a></li>
          <li><a href="/about">About</a></li>
        </ul>
      </nav>
    </div>
    <div class="clearfix"></div>
      </header>
      <!-- creating chat window with different buttons -->
      <div class="chat-container">
        <header class="chat-header">
          <h1><i class="far fa-comment"></i> Chat</h1>
          <a href="/chat" class="btn">Leave Room</a>
        </header>
        <main class="chat-main">
          <div class="chat-sidebar">
        <h3><i class="fas fa-comments"></i> Room Name:</h3>
        <h2 id="room-name"><%= room %></h2>
        <h3><i class="fas fa-users"></i> Users</h3>
        <ul id="users">
          <li>Me</li>
          <% for (var i =0; i <users.length;  i++ ) { %>
            <li><%= users[i].username %></li>
            <% } %>
          </ul>
        </div>
        <div class="chat-messages" id="display-message">
        </div>
    </main>
    <div class="chat-form-container">
      <div id="chat-form">
        <input
          id="msgbox"
          type="text"
          placeholder="Enter Message"
          required
          autocomplete="off"
          />
          <button class="btn" id="send-msg"><i class="fas fa-paper-plane"></i> Send</button>
        </div>
      </div>
    </div>
    <!-- importing chatroom script -->
    <script src="js/chatroom.js"></script>
  </body>
</html>